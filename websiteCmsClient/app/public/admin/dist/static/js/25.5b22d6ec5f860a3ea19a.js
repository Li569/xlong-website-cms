webpackJsonp([25],{535:function(e,r,t){var n=t(207)(t(647),t(712),null,null,null);e.exports=n.exports},541:function(e,r,t){"use strict";var n,o=t(210),a=t.n(o),s=t(211),u=t.n(s);r.a=(n={regUserName:/^(?![a-zA-Z]+$)[a-zA-Z][a-zA-Z0-9]{5,15}$/,regCompanyName:/^[\u4E00-\u9FA5a-zA-Z]((?![·\.\(\)（）]{2,4})([\u4E00-\u9FA5a-zA-Z·\.\(\)（）])){0,98}[\u4E00-\u9FA5]$/,regRealName:/^[\u4E00-\u9FA5](([\u4E00-\u9FA5]|·(?!·))){0,18}[\u4E00-\u9FA5]$/,regUscCode:/^[0-9A-ZW]{18}$/,regBankAccount:/^[1-9]\d{7,25}$/,regPostCode:/^[1-9]\d{5}$/,regEmail:/^[\.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/},a()(n,"regCompanyName",/^[\u4E00-\u9FA5a-zA-Z]((?![·\.\(\)（）]{2,4})([\u4E00-\u9FA5a-zA-Z·\.\(\)（）])){0,98}[\u4E00-\u9FA5]$/),a()(n,"regMobile",/^1(3|4|5|7|8)\d{9}$/),a()(n,"regPassword",/^[\w]{6,12}$/),a()(n,"regWebsite",/^[\u4E00-\u9FA5A\w\-_]+(\.[\u4E00-\u9FA5A\w\-_]+)+([\u4E00-\u9FA5A\w\-\.,@?^=%&amp;:\/~\+#]*[\u4E00-\u9FA5A\w\-\@?^=%&amp;\/~\+#])?/),a()(n,"regPhone",/^(1\d{10}$)|(((400)-(\d{3})-(\d{4}))|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{3,7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/),a()(n,"regWebsite",/^(http|https):\/\/[\u4E00-\u9FA5A\w\-_]+(\.[\u4E00-\u9FA5A\w\-_]+)+([\u4E00-\u9FA5A\w\-\.,@?^=%&amp;:\/~\+#]*[\u4E00-\u9FA5A\w\-\@?^=%&amp;\/~\+#])?/),a()(n,"CompareDate",function(e,r){return"string"==typeof e&&"string"==typeof r?new Date(e.replace(/-/g,"/"))<=new Date(r.replace(/-/g,"/")):"object"==(void 0===e?"undefined":u()(e))&&"object"==(void 0===r?"undefined":u()(r))?e<=r:(console.log("日期比较格式不统一"),!1)}),a()(n,"SetDate",function(e){var r=new Date,t=new Date;switch(e){case 1:return t.setTime(t.getTime()-6048e5),[t,r];case 2:return t.setTime(t.getTime()-2592e6),[t,r];case 3:return t.setTime(t.getTime()-7776e6),[t,r];default:return console.log("get pic error"),!1}}),a()(n,"FormatDate",function(e){if(e){if("string"==typeof e&&-1!=e.indexOf("-"))return e;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds())}}),a()(n,"SetDefaultPic",function(e,r){switch(r){case 1:e.currentTarget.src=t(212);break;case 2:e.currentTarget.src=t(213);break;default:return console.log("get pic error"),!1}e.currentTarget.onerror=null}),a()(n,"LaunchFullScreen",function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),a()(n,"ExitFullscreen",function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}),n)},554:function(e,r,t){"use strict";var n=t(541);r.a={ValidPassword:function(e,r,t){return""==e?t?r(new Error("密码不能为空")):r():n.a.regPassword.test(e)?r():r(new Error("密码格式为6-12位，字母、数字和下划线的组合"))},ValidPwdCheck:function(e,r,t,n){return""==r?n?t(new Error("确认密码不能为空")):""!=e?t(new Error("确认密码不能为空")):t():e!=r?t(new Error("两次输入密码不一致")):t()},ValidBirthDate:function(e,r,t){if(""==e)return t?r(new Error("出生日期不能为空")):r();var o=new Date;return n.a.CompareDate(e,o)?r():r(new Error("出生日期不能大于当前日期"))},ValidProvince:function(e,r,t){return t&&""==e?r(new Error("所在省份不能为空")):r()},ValidAgreement:function(e,r,t,n){return n?e?t():t(new Error(r)):t()},ValidCode:function(e,r,t){return t?e?r():r(new Error("验证码不能为空")):r()},ValidUserName:function(e,r,t){return t?e?n.a.regUserName.test(username)?r():r(new Error("用户名格式为以字母开头的6-16位字母和数字的组合")):r(new Error("用户名不能为空")):r()},ValidUserType:function(e,r,t){return t?e?r():r(new Error("用户类型不能为空")):r()},ValidRangeDate:function(e,r,t,o){if(o&&""==e)return t(new Error("开始日期不能为空"));if(o&&""==r)return t(new Error("结束日期不能为空"));if(e){var a=new Date;if(n.a.CompareDate(e,a)){if(r){return n.a.CompareDate(e,r)?t():t(new Error("结束日期不能小于开始日期"))}return t()}return t(new Error("开始日期不能大于当前日期"))}return r?t(new Error("请选择开始日期")):t()}}},611:function(e,r,t){"use strict";var n=t(75),o=t.n(n),a=t(145);r.a={GetUserInfo:function(e){return new o.a(function(r,t){a.a.HttpGet("/api/WebsiteCms/UserService/Person/GetUserInfo?token="+e).then(function(e){return r(e)}).catch(function(e){return t(e)})})},EditProfile:function(e){return new o.a(function(r,t){a.a.HttpPost("/api/WebsiteCms/UserService/Person/EditProfile",e).then(function(e){return r(e)}).catch(function(e){return t(e)})})},ChangePwd:function(e){return new o.a(function(r,t){a.a.HttpPost("/api/WebsiteCms/UserService/Person/ChangePwd",e).then(function(e){return r(e)}).catch(function(e){return t(e)})})}}},647:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(554),o=t(611);t(215);r.default={data:function(){var e=this;return{editForm:{oldPassword:"",newPassword:"",passwdCheck:""},validate:{oldPassword:[{validator:function(e,r,t){n.a.ValidPassword(r,t,!0)},trigger:"blur",required:!0}],newPassword:[{validator:function(e,r,t){n.a.ValidPassword(r,t,!0)},trigger:"blur",required:!0}],passwdCheck:[{validator:function(r,t,o){n.a.ValidPwdCheck(e.editForm.newPassword,t,o,!0)},trigger:"blur",required:!0}]}}},created:function(){this.init()},methods:{init:function(){this.$store.commit("SET_BREADCRUMB",[{name:"修改密码",path:"/ChangePwd"}])},submit:function(e){var r=this;this.$refs[e].validate(function(e){e?r.editForm.oldPassword==r.editForm.newPassword?r.$Message.error("旧密码和新密码不能相同"):o.a.ChangePwd(r.editForm).then(function(e){200==e.code?r.$store.dispatch("LogOut").then(function(e){r.$Message.success("密码修改成功！请重新登录"),r.$router.push({name:"Login"})}).catch(function(e){return console.log(e)}):r.$Message.warning(e.msg)}).catch(function(e){return r.$Message.error("密码修改失败")}):r.$Message.error("提交失败！填写有误")})}}}},712:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"g-content"},[t("div",{staticStyle:{width:"500px"}},[t("Form",{ref:"editForm",attrs:{model:e.editForm,rules:e.validate,"label-width":100}},[t("Form-item",{attrs:{prop:"oldPassword",label:"旧密码："}},[t("Input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:e.editForm.oldPassword,callback:function(r){e.$set(e.editForm,"oldPassword",r)},expression:"editForm.oldPassword"}})],1),e._v(" "),t("Form-item",{attrs:{prop:"newPassword",label:"新密码："}},[t("Input",{attrs:{type:"password",placeholder:"请输入新密码（6-12位字母和数字的组合）"},model:{value:e.editForm.newPassword,callback:function(r){e.$set(e.editForm,"newPassword",r)},expression:"editForm.newPassword"}})],1),e._v(" "),t("Form-item",{attrs:{prop:"passwdCheck",label:"确认密码："}},[t("Input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.editForm.passwdCheck,callback:function(r){e.$set(e.editForm,"passwdCheck",r)},expression:"editForm.passwdCheck"}})],1),e._v(" "),t("Form-item",[t("Button",{attrs:{type:"primary"},on:{click:function(r){return e.submit("editForm")}}},[e._v("确认修改")])],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=25.5b22d6ec5f860a3ea19a.js.map