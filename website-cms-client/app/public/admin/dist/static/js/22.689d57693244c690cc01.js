webpackJsonp([22],{538:function(e,t,n){var a=n(207)(n(650),n(722),null,null,null);e.exports=a.exports},541:function(e,t,n){"use strict";var a,i=n(210),o=n.n(i),r=n(211),s=n.n(r);t.a=(a={regUserName:/^(?![a-zA-Z]+$)[a-zA-Z][a-zA-Z0-9]{5,15}$/,regCompanyName:/^[\u4E00-\u9FA5a-zA-Z]((?![·\.\(\)（）]{2,4})([\u4E00-\u9FA5a-zA-Z·\.\(\)（）])){0,98}[\u4E00-\u9FA5]$/,regRealName:/^[\u4E00-\u9FA5](([\u4E00-\u9FA5]|·(?!·))){0,18}[\u4E00-\u9FA5]$/,regUscCode:/^[0-9A-ZW]{18}$/,regBankAccount:/^[1-9]\d{7,25}$/,regPostCode:/^[1-9]\d{5}$/,regEmail:/^[\.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/},o()(a,"regCompanyName",/^[\u4E00-\u9FA5a-zA-Z]((?![·\.\(\)（）]{2,4})([\u4E00-\u9FA5a-zA-Z·\.\(\)（）])){0,98}[\u4E00-\u9FA5]$/),o()(a,"regMobile",/^1(3|4|5|7|8)\d{9}$/),o()(a,"regPassword",/^[\w]{6,12}$/),o()(a,"regWebsite",/^[\u4E00-\u9FA5A\w\-_]+(\.[\u4E00-\u9FA5A\w\-_]+)+([\u4E00-\u9FA5A\w\-\.,@?^=%&amp;:\/~\+#]*[\u4E00-\u9FA5A\w\-\@?^=%&amp;\/~\+#])?/),o()(a,"regPhone",/^(1\d{10}$)|(((400)-(\d{3})-(\d{4}))|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{3,7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/),o()(a,"regWebsite",/^(http|https):\/\/[\u4E00-\u9FA5A\w\-_]+(\.[\u4E00-\u9FA5A\w\-_]+)+([\u4E00-\u9FA5A\w\-\.,@?^=%&amp;:\/~\+#]*[\u4E00-\u9FA5A\w\-\@?^=%&amp;\/~\+#])?/),o()(a,"CompareDate",function(e,t){return"string"==typeof e&&"string"==typeof t?new Date(e.replace(/-/g,"/"))<=new Date(t.replace(/-/g,"/")):"object"==(void 0===e?"undefined":s()(e))&&"object"==(void 0===t?"undefined":s()(t))?e<=t:(console.log("日期比较格式不统一"),!1)}),o()(a,"SetDate",function(e){var t=new Date,n=new Date;switch(e){case 1:return n.setTime(n.getTime()-6048e5),[n,t];case 2:return n.setTime(n.getTime()-2592e6),[n,t];case 3:return n.setTime(n.getTime()-7776e6),[n,t];default:return console.log("get pic error"),!1}}),o()(a,"FormatDate",function(e){if(e){if("string"==typeof e&&-1!=e.indexOf("-"))return e;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds())}}),o()(a,"SetDefaultPic",function(e,t){switch(t){case 1:e.currentTarget.src=n(212);break;case 2:e.currentTarget.src=n(213);break;default:return console.log("get pic error"),!1}e.currentTarget.onerror=null}),o()(a,"LaunchFullScreen",function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),o()(a,"ExitFullscreen",function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}),a)},542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"loading",data:function(){return{}}}},543:function(e,t,n){t=e.exports=n(208)(!0),t.push([e.i,".page-load[data-v-4eb925da]{margin:200px 0}.spin-icon-load[data-v-4eb925da]{-webkit-animation:ani-demo-spin-data-v-4eb925da 1s linear infinite;animation:ani-demo-spin-data-v-4eb925da 1s linear infinite}@-webkit-keyframes ani-demo-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ani-demo-spin-data-v-4eb925da{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}","",{version:3,sources:["F:/project/own/xlong-website-cms/websiteCmsAdmin/src/components/Common/Loading.vue"],names:[],mappings:"AACA,4BACE,cAAgB,CACjB,AACD,iCACE,mEAAoE,AAC5D,0DAA4D,CACrE,AACD,iCACA,GACI,+BAAgC,AACxB,sBAAwB,CACnC,AACD,IACI,iCAAkC,AAC1B,wBAA0B,CACrC,AACD,GACI,gCAAkC,AAC1B,uBAA0B,CACrC,CACA,AACD,yCACA,GACI,+BAAgC,AACxB,sBAAwB,CACnC,AACD,IACI,iCAAkC,AAC1B,wBAA0B,CACrC,AACD,GACI,gCAAkC,AAC1B,uBAA0B,CACrC,CACA",file:"Loading.vue",sourcesContent:["\n.page-load[data-v-4eb925da] {\n  margin: 200px 0;\n}\n.spin-icon-load[data-v-4eb925da] {\n  -webkit-animation: ani-demo-spin-data-v-4eb925da 1s linear infinite;\n          animation: ani-demo-spin-data-v-4eb925da 1s linear infinite;\n}\n@-webkit-keyframes ani-demo-spin {\nfrom {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n}\n50% {\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes ani-demo-spin-data-v-4eb925da {\nfrom {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n}\n50% {\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n"],sourceRoot:""}])},544:function(e,t,n){var a=n(543);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(209)("7cbfa839",a,!0,{})},545:function(e,t,n){function a(e){n(544)}var i=n(207)(n(542),n(546),a,"data-v-4eb925da",null);e.exports=i.exports},546:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-load",attrs:{id:"loading"}},[n("Spin",[n("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),e._v(" "),n("div",[e._v("玩命加载中...")])],1)],1)},staticRenderFns:[]}},550:function(e,t,n){"use strict";var a=n(210),i=n.n(a),o=n(541);t.a={data:function(){var e;return e={format:["image/jpg","image/jpeg","image/png"],uploadStatus:""},i()(e,"uploadStatus",""),i()(e,"showProgress",!1),i()(e,"loading",!1),i()(e,"showModal",!1),i()(e,"showMask",!1),i()(e,"percentage",0),i()(e,"getImageUrl",""),e},methods:{viewImage:function(){this.showModal=!0},uploadClick:function(){this.$refs.imgFile.click()},selectFile:function(){var e=this.$refs.imgFile.files;if(e.length>0){var t=e[0].name,n=Math.floor(e[0].size/1024),a=this.fileSize,i=a+"kb";if(n>a)return a>1024&&(i=Math.floor(a/1024)+"M"),this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t+" 太大，不能超过 "+i}),this.progressHide(),!1;this.uploadFile(e[0])}else console.log("获取不到文件列表")},progressShow:function(){this.loading=!0,this.uploadStatus="",this.percentage=0,this.showProgress=!0},progressHide:function(){this.loading=!1,this.uploadStatus="finished",this.showProgress=!1},notFoundPic:function(e){o.a.SetDefaultPic(e,2)},errorTip:function(e){this.progressHide(),clearInterval(e),this.$Notice.error({title:"图片上传失败，请重试！"})}}}},553:function(e,t,n){function a(e){n(557)}var i=n(207)(n(555),n(558),a,"data-v-37958458",null);e.exports=i.exports},555:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(550),i=n(214);t.default={name:"singleImage",mixins:[a.a],props:{src:{type:String,default:""},preview:{type:Boolean,default:!1},showHint:{type:Boolean,default:!0},sizeHint:{type:String,default:"100*100px"},fileSize:{type:Number,default:150},uploadDir:{type:String,default:"img/"},index:{type:Number,default:-1}},data:function(){return{showUploadBtn:!0,getImageUrl:""}},watch:{src:function(e){e?(this.showUploadBtn=!1,this.getImageUrl=e):(this.showUploadBtn=!0,this.getImageUrl="")}},created:function(){this.src&&(this.showUploadBtn=!1,this.getImageUrl=this.src)},methods:{uploadFile:function(e){var t=this;this.progressShow();var n=setInterval(function(){90==t.percentage&&clearInterval(n),t.percentage+=10},100),a=new FormData;a.append("dir",this.uploadDir),a.append("file",e),i.a.UploadImg(a).then(function(e){200==e.code?(t.getImageUrl=e.data.url,t.index<0?t.$emit("get-img-url",t.getImageUrl):t.$emit("get-img-url",t.getImageUrl,t.index),t.progressHide(),t.percentage=100,clearInterval(n),t.showUploadBtn=!1,t.$Notice.success({title:"图片上传成功!"})):t.errorTip(n)}).catch(function(e){return t.errorTip(n)})}}}},556:function(e,t,n){t=e.exports=n(208)(!0),t.push([e.i,".hint[data-v-37958458]{color:#ed3f14;margin-top:15px}.upload-btn[data-v-37958458]{width:90px;height:90px;line-height:90px;background:#fff;border:1px dashed #d7dde4;border-radius:4px;text-align:center;cursor:pointer;position:relative;overflow:hidden;-webkit-transition:border-color .2s ease;transition:border-color .2s ease}.upload-btn[data-v-37958458]:hover{border:1px dashed #3b89c0}.upload-show[data-v-37958458]{position:relative;width:90px;height:90px;padding:5px;border:1px solid #e4e5e7;border-radius:4px;overflow:hidden;text-align:center}.upload-show:hover .upload-mask[data-v-37958458]{display:block}.upload-mask[data-v-37958458]{display:none;position:absolute;height:100%;width:100%;top:0;left:0;background:rgba(0,0,0,.8);border-radius:4px;text-align:center}.upload-mask .ivu-icon[data-v-37958458]{cursor:pointer;color:#fff;line-height:90px;font-size:26px}.upload-img-wrap[data-v-37958458]{width:78px;height:78px;display:table-cell;text-align:center;vertical-align:middle;background:#fff}.upload-image[data-v-37958458]{vertical-align:middle;display:inline-block;max-height:78px;max-width:78px}.size-hint[data-v-37958458]{display:inline}.m-view-img img[data-v-37958458]{display:block;margin:auto;max-width:100%;height:auto}","",{version:3,sources:["F:/project/own/xlong-website-cms/websiteCmsAdmin/src/components/Image/UploadImage/SingleImage.vue"],names:[],mappings:"AACA,uBACE,cAAe,AACf,eAAiB,CAClB,AACD,6BACE,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,gBAAiB,AACjB,0BAA2B,AAC3B,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,yCAA2C,AAC3C,gCAAmC,CACpC,AACD,mCACE,yBAA2B,CAC5B,AACD,8BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,iBAAmB,CACpB,AACD,iDACE,aAAe,CAChB,AACD,8BACE,aAAc,AACd,kBAAmB,AACnB,YAAa,AACb,WAAY,AACZ,MAAO,AACP,OAAQ,AACR,0BAA+B,AAC/B,kBAAmB,AACnB,iBAAmB,CACpB,AACD,wCACE,eAAgB,AAChB,WAAY,AACZ,iBAAkB,AAClB,cAAgB,CACjB,AACD,kCACE,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,sBAAuB,AACvB,eAAiB,CAClB,AACD,+BACE,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,cAAgB,CACjB,AACD,4BACE,cAAgB,CACjB,AACD,iCACE,cAAe,AACf,YAAa,AACb,eAAgB,AAChB,WAAa,CACd",file:"SingleImage.vue",sourcesContent:["\n.hint[data-v-37958458] {\n  color: #ed3f14;\n  margin-top: 15px;\n}\n.upload-btn[data-v-37958458] {\n  width: 90px;\n  height: 90px;\n  line-height: 90px;\n  background: #fff;\n  border: 1px dashed #d7dde4;\n  border-radius: 4px;\n  text-align: center;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  -webkit-transition: border-color 0.2s ease;\n  transition: border-color 0.2s ease;\n}\n.upload-btn[data-v-37958458]:hover {\n  border: 1px dashed #3b89c0;\n}\n.upload-show[data-v-37958458] {\n  position: relative;\n  width: 90px;\n  height: 90px;\n  padding: 5px;\n  border: 1px solid #e4e5e7;\n  border-radius: 4px;\n  overflow: hidden;\n  text-align: center;\n}\n.upload-show:hover .upload-mask[data-v-37958458] {\n  display: block;\n}\n.upload-mask[data-v-37958458] {\n  display: none;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 4px;\n  text-align: center;\n}\n.upload-mask .ivu-icon[data-v-37958458] {\n  cursor: pointer;\n  color: #fff;\n  line-height: 90px;\n  font-size: 26px;\n}\n.upload-img-wrap[data-v-37958458] {\n  width: 78px;\n  height: 78px;\n  display: table-cell;\n  text-align: center;\n  vertical-align: middle;\n  background: #fff;\n}\n.upload-image[data-v-37958458] {\n  vertical-align: middle;\n  display: inline-block;\n  max-height: 78px;\n  max-width: 78px;\n}\n.size-hint[data-v-37958458] {\n  display: inline;\n}\n.m-view-img img[data-v-37958458] {\n  display: block;\n  margin: auto;\n  max-width: 100%;\n  height: auto;\n}\n"],sourceRoot:""}])},557:function(e,t,n){var a=n(556);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(209)("b5c05ec8",a,!0,{})},558:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-Upload",attrs:{id:"singleImage"}},[""!=e.getImageUrl?n("div",{staticClass:"upload-show"},[n("div",{staticClass:"upload-img-wrap"},[n("img",{staticClass:"upload-image",attrs:{src:e.GLOBAL.ShowImg(e.getImageUrl),alt:"图片加载失败"},on:{error:e.notFoundPic}})]),e._v(" "),n("div",{staticClass:"upload-mask"},[e.preview?n("Icon",{staticStyle:{"margin-right":"15px"},attrs:{type:"eye"},nativeOn:{click:function(t){return e.viewImage(t)}}}):e._e(),e._v(" "),n("Icon",{attrs:{type:"edit"},nativeOn:{click:function(t){return e.uploadClick(t)}}})],1)]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showUploadBtn,expression:"showUploadBtn"}],staticClass:"upload-btn",on:{click:e.uploadClick}},[n("Icon",{attrs:{type:"camera",size:"20"}}),e._v(" "),n("input",{ref:"imgFile",attrs:{type:"file",accept:e.format,hidden:""},on:{change:e.selectFile}})],1),e._v(" "),"finished"!=e.uploadStatus?[e.showProgress?n("Progress",{staticStyle:{width:"340px"},attrs:{percent:e.percentage,"hide-info":"","stroke-width":3}}):e._e()]:e._e(),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.showHint,expression:"showHint"}],staticClass:"hint"},[e._v("\n        * 图片格式要求：jpg、jpeg、png，\n        "),e.sizeHint?n("span",[e._v("建议尺寸： "+e._s(e.sizeHint)+"，")]):e._e(),e._v("\n        文件大小为\n        "),e.fileSize<1024?n("span",[e._v(e._s(e.fileSize)+"kb")]):n("span",[e._v(e._s(Math.floor(e.fileSize/1024))+"M")]),e._v("\n        以内。\n    ")]),e._v(" "),n("div",{staticClass:"clearfix"}),e._v(" "),n("Modal",{staticClass:"m-view-img",staticStyle:{"z-index":"9999"},attrs:{title:"查看图片",width:"900"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("img",{attrs:{src:e.GLOBAL.ShowImg(e.getImageUrl)},on:{error:e.notFoundPic}}),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"})])],2)},staticRenderFns:[]}},650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(545),i=n.n(a),o=n(553),r=n.n(o),s=n(214);t.default={components:{Loading:i.a,SingleImage:r.a},data:function(){return{pageLoading:!1,infoForm:{qrcodeImg:"",companyAddr:"",contactWay:""},validate:{qrcodeImg:[{required:!0,validator:function(e,t,n){return n()}}],contactWay:[{required:!0,message:"联系方式不能为空",trigger:"blur"}],companyAddr:[{required:!0,message:"公司地址不能为空",trigger:"blur"}]},kwModelShow:!1,modelForm:{keyword:""}}},created:function(){this.init()},methods:{init:function(){this.$store.commit("SET_BREADCRUMB",[{name:"站点管理",path:null},{name:"底部信息",path:null}]),this.getDetail()},submit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){if(""==t.infoForm.qrcodeImg)return t.$Message.error("请上传二维码图片"),!1;t.pageLoading=!0,s.a.EditFooterInfo(t.infoForm).then(function(e){t.pageLoading=!1,200==e.code?(t.$Message.success("修改成功"),t.getDetail()):t.$Message.warning(e.msg)}).catch(function(e){return console.log(e)})}else t.$Message.error("提交失败！填写有误")})},getDetail:function(){var e=this;s.a.GetFooterInfo().then(function(t){e.pageLoading=!1,200==t.code?e.infoForm=t.data:e.$Message.warning(t.msg)}).catch(function(e){return console.log(e)})},setPic:function(e){this.infoForm.qrcodeImg=e}}}},722:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"g-content"},[e.pageLoading?n("Loading"):n("Form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.validate,"label-width":150}},[n("Row",[n("Col",{attrs:{span:"12"}},[n("Form-item",{attrs:{label:"二维码图片：",prop:"qrcodeImg"}},[n("SingleImage",{attrs:{src:e.infoForm.qrcodeImg,"upload-dir":"img/qrcode/",preview:!0,"size-hint":"100*100px",fileSize:180},on:{"get-img-url":e.setPic}})],1),e._v(" "),n("Form-item",{attrs:{label:"热线电话 / 邮箱：",prop:"contactWay"}},[n("Input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.infoForm.contactWay,callback:function(t){e.$set(e.infoForm,"contactWay",t)},expression:"infoForm.contactWay"}})],1),e._v(" "),n("Form-item",{attrs:{label:"公司地址：",prop:"companyAddr"}},[n("Input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.infoForm.companyAddr,callback:function(t){e.$set(e.infoForm,"companyAddr",t)},expression:"infoForm.companyAddr"}})],1),e._v(" "),n("Form-item",[n("Button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("infoForm")}}},[e._v("确认修改")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=22.689d57693244c690cc01.js.map